version: '3.8'

services:
  sonarqube:
    image: sonarqube:latest
    container_name: sonarqube
    ports:
      - "9000:9000"
    environment:
      SONAR_JDBC_URL: ${SONAR_JDBC_URL}
      SONAR_JDBC_USERNAME: ${SONAR_JDBC_USERNAME}
      SONAR_JDBC_PASSWORD: ${SONAR_JDBC_PASSWORD}
      SONAR_JAVA_OPTS: "-Xmx512m -Xms512m"
      SONAR_SEARCH_JAVA_OPTS: "-Xms512m -Xmx1g"
    deploy:
      resources:
        limits:
          memory: 2G
